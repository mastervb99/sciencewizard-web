# Velvet Research Web Application

**Status:** Full Implementation Complete - Ready for Deployment
**Plan:** Render Professional
**Live URL:** https://velvet-research.onrender.com (after deployment)
**GitHub:** https://github.com/mastervb99/sciencewizard-web

## Features Implemented

| Feature | Status |
|---------|--------|
| User Registration | Done |
| User Login (JWT) | Done |
| File Upload | Done |
| Report Generation | Done |
| Progress Tracking | Done |
| Word Download | Done |
| Section Feedback | Done |
| Regeneration | Done |

## Project Structure

```
velvet_web/
├── server.py              # FastAPI application (all endpoints)
├── config.py              # Environment configuration
├── database.py            # SQLite database models
├── render.yaml            # Render Professional config
├── requirements.txt       # Python dependencies
├── .gitignore
├── README.md
├── services/
│   ├── __init__.py
│   ├── auth.py            # JWT authentication
│   ├── upload.py          # File upload handling
│   └── report_generator.py # Manuscript generation
└── static/
    ├── index.html         # Landing page
    ├── about.html         # Founders page
    ├── review.html        # Report review/download page
    ├── css/
    │   └── style.css      # All styles
    └── js/
        └── app.js         # Frontend application
```

## API Endpoints

### Authentication
- `POST /api/auth/register` - Create account
- `POST /api/auth/login` - Login, get JWT token
- `GET /api/auth/me` - Get current user

### File Upload
- `POST /api/upload` - Upload files (multipart)
- `GET /api/upload/{upload_id}` - Get upload info

### Report Generation
- `POST /api/generate` - Start generation job
- `GET /api/status/{job_id}` - Get job status
- `GET /api/jobs` - List user's jobs
- `GET /api/download/{job_id}` - Download report

### Feedback (Phase 2)
- `POST /api/feedback/{job_id}` - Submit section feedback
- `POST /api/regenerate/{job_id}` - Regenerate with feedback

## Local Development

```bash
cd /Users/vafabayat/Dropbox/Financial/0ScienceWizard/velvet_web

# Create virtual environment
python3 -m venv venv
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Set environment variables
export ANTHROPIC_API_KEY="your-key"
export JWT_SECRET="dev-secret"

# Run server
python server.py
# Visit http://localhost:8000
```

## Deployment

### Render Professional ($25/month)
- 2GB RAM, dedicated CPU
- Always-on (no cold starts)
- 1GB persistent disk for data
- Auto-deploy from GitHub

### Environment Variables (Set in Render Dashboard)
- `ANTHROPIC_API_KEY` - Anthropic API key (required)
- `JWT_SECRET` - Auto-generated by Render
- `PYTHON_VERSION` - 3.11

### Deploy Steps
1. Push changes to GitHub
2. Create new Web Service in Render
3. Connect GitHub repository
4. Select `render.yaml` configuration
5. Set `ANTHROPIC_API_KEY` in environment
6. Deploy

## User Flow

1. **Upload** - User uploads research files (CSV, DOCX, PDF, etc.)
2. **Auth** - User signs up or logs in
3. **Generate** - System generates manuscript using AI
4. **Review** - User sees progress, downloads Word document
5. **Iterate** - User can provide feedback and regenerate (Phase 2)

## Key Contacts

- **Omri Weisman, PhD** (CEO) - omri@planetmed.pro
- **Vafa Bayat, MD, PhD** (CTO) - vafa@bitscopic.com

## Version History

- **Dec 20, 2025** - Full implementation (auth, upload, generation, download)
- **Dec 17, 2025** - Phase I static mockup deployed
- **Dec 20, 2025** - Rebranded to Velvet Research
